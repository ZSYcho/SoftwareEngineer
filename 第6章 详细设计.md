# 第6章 详细设计

## 详细设计的基本任务

- 详细设计阶段的任务还不是具体地编写程序，而是要设计出程序的“蓝图”，以后程序员将根据这个“蓝图写出实际地程序代码。

## 程序的五种控制结构

- 3种基本控制结构”顺序“、”选择“和”循环“
- DO_UNTIL和DO_CASE两种控制结构

## 详细设计的工具和直接的转换

分为图形、表格和语言3类

- 程序流程图
- 盒图
- PAD图
- 判定表
- 判定树
- 过程设计语言（PDL）

## 判定表/判定树的设计

- 一张判定表由4部分组成，左上列出所有条件，左下部是所有可能做的动作，右上部是表示各种条件组合的一个矩阵，右下部是和每种条件组合相应的动作。

  ![判定表](https://gitee.com/kevin0401/pic-md1/raw/master/%E5%88%A4%E5%AE%9A%E8%A1%A8.png)

  判定表右半部的每一列实质上是一条规则，规定了与特定的条件组合相对应的动作。

- ![判定树](https://gitee.com/kevin0401/pic-md1/raw/master/%E5%88%A4%E5%AE%9A%E6%A0%91.png)

  判定树更加直观，但是不够简洁。

## Jackson方法

- 分析并确定输入数据和输出数据的逻辑结构，并用Jackson图描绘这些数据结构。
- 找出输入数据结构和输出数据结构中有对应关系的数据单元。
- 从描绘数据结构的Jackson图导出描绘程序结构的Jackson图
- 列出所有操作和条件（包括分支条件和循环结束条件），并且把它们分配到程序结构图的适当位置。
- 用伪代码表示程序。

## McCabe方法计算复杂度

McCabe方法根据程序控制流的复杂程度定量度量程序的复杂程度，这样度量出的结果称为程序的环形复杂度。

- 流图中线性无关的区域数等于环形复杂度。
- 流图G的环形复杂度$V(G)=E-N+2$，其中，$E$是流图中边的条数，$N$是结点数。
- 流图G的环形复杂度$V(G)=P+1$，其中,$P$是流图中判定结点的数目。

![环形复杂度](https://gitee.com/kevin0401/pic-md1/raw/master/%E7%8E%AF%E5%BD%A2%E5%A4%8D%E6%9D%82%E5%BA%A6%E8%AE%A1%E7%AE%97.png)

